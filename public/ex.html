<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../src/output.css">
    <title>Document</title>
    <style>
        /* Animation classes using Tailwind CSS */
        .modal-animation {
            @apply opacity-0 scale-75 transition-all duration-300 ease-in-out;
        }
        .modal-animation.show {
            @apply opacity-100 scale-100;
        }
    </style>
</head>
<body class="">

    <!-- Navbar -->
    <nav class="flex flex-wrap justify-center items-center gap-12 my-10">
        <button type="button" id="openModalButton" onclick="toggleModal()" class="text-white bg-blue-700 hover:bg-blue-400 px-8 py-2 rounded-3xl border border-x-4 border-blue-400 hover:border-blue-700">Add model</button>
        <input type="search" name="search" id="search" placeholder="search" class="border border-black border-x-4 px-10 py-2 rounded-3xl">
    </nav>

    <!-- Main content (Tasks lists) -->
    <main class="flex flex-wrap justify-center items-center my-[50px] gap-[120px]">
        <!-- Add sections for "To do", "Doing", and "Done" with task cards as in your original code -->
    </main>

    <!-- Add Task Form Modal -->
    <div id="addModal" class="hidden modal-animation fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center">
        <section class="bg-black text-white border border-gray-700 border-r-4 border-l-4 px-2 py-2 rounded-3xl max-w-lg">
            <div class="flex justify-center items-center my-2">
                <span class="border border-gray-700 border-l-4 px-8 py-2 rounded-3xl">Add New Task</span>
            </div>
            <form class="bg-white text-black flex-col justify-center gap-5 border-4 border-black p-5 rounded-3xl w-full">
                <label for="titre">Titre</label>
                <input type="text" placeholder="task titre" class="border border-black rounded-3xl px-2 w-full">
                <label for="date">Date</label>
                <input type="date" placeholder="task date" class="border border-black rounded-3xl px-2 w-full">
                <label for="description">Description</label>
                <textarea cols="40" rows="4" placeholder="task description" class="border border-black rounded-3xl px-2 w-full"></textarea>

                <div class="flex gap-5 my-4">
                    <div>
                        <label for="type">Type</label>
                        <select name="type" id="type" class="border border-black rounded-3xl px-2 w-full">
                            <option value="Todo">To do</option>
                            <option value="Doing">Doing</option>
                            <option value="Done">Done</option>
                        </select>
                    </div>
                    <div>
                        <label for="priority">Priority</label>
                        <select name="priority" id="priority" class="border border-black rounded-3xl px-2 w-full">
                            <option value="p1">P1</option>
                            <option value="p2">P2</option>
                            <option value="p3">P3</option>
                        </select>
                    </div>
                </div>
                <div class="flex justify-center">
                    <button type="submit" class="text-white bg-blue-700 hover:bg-blue-400 px-8 py-2 rounded-3xl border border-x-4 border-blue-400 hover:border-blue-700 my-5">Add Task</button>
                </div>
            </form>
        </section>
    </div>

    <script>
        // Toggle Modal Function
        function toggleModal() {
            const modal = document.getElementById("addModal");

            if (modal.classList.contains("hidden")) {
                modal.classList.remove("hidden");
                setTimeout(() => {
                    modal.classList.add("show");
                }, 10); // Delay to apply show for smooth animation
            } else {
                modal.classList.remove("show");
                setTimeout(() => {
                    modal.classList.add("hidden");
                }, 300); // Duration matched with CSS transition
            }
        }
    </script>

</body>
</html>
